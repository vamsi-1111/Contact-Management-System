{"ast":null,"code":"var _jsxFileName = \"/Users/vchitturi/Desktop/Contact Managment  System/client/src/pages/EditContact.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Spinner from \"../components/Spinner\";\nimport AuthContext from \"../context/AuthContext\";\nimport ToastContext from \"../context/ToastContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EditContact = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useContext(AuthContext);\n  const {\n    toast\n  } = useContext(ToastContext);\n  const [userDetails, setUserDetails] = useState({\n    name: \"\",\n    address: \"\",\n    email: \"\",\n    phone: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setUserDetails({ ...userDetails,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const res = await fetch(`http://localhost:8000/api/contact`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      },\n      body: JSON.stringify({\n        id,\n        ...userDetails\n      })\n    });\n    const result = await res.json();\n\n    if (!result.error) {\n      toast.success(`updated [${userDetails.name}] contact`);\n      setUserDetails({\n        name: \"\",\n        address: \"\",\n        email: \"\",\n        phone: \"\"\n      });\n      navigate(\"/mycontacts\");\n    } else {\n      toast.error(result.error);\n    }\n  };\n\n  useEffect(async () => {\n    setLoading(true);\n\n    try {\n      const res = await fetch(`http://localhost:8000/api/contact/${id}`, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      const result = await res.json();\n      setUserDetails({\n        name: result.name,\n        email: result.email,\n        address: result.address,\n        phone: result.phone\n      });\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n      splash: \"Loading Contact...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Edit your contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"nameInput\",\n            className: \"form-label mt-4\",\n            children: \"Name Of Person\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"nameInput\",\n            name: \"name\",\n            value: userDetails.name,\n            onChange: handleInputChange,\n            placeholder: \"John Doe\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"addressInput\",\n            className: \"form-label mt-4\",\n            children: \"Address Of Person\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"addressInput\",\n            name: \"address\",\n            value: userDetails.address,\n            onChange: handleInputChange,\n            placeholder: \"WalkStreet 05, California\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"emailInput\",\n            className: \"form-label mt-4\",\n            children: \"Email Of Person\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            id: \"emailInput\",\n            name: \"email\",\n            value: userDetails.email,\n            onChange: handleInputChange,\n            placeholder: \"johndoe@example.com\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phoneInput\",\n            className: \"form-label mt-4\",\n            children: \"Phone Number Of Person\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"form-control\",\n            id: \"phoneInput\",\n            name: \"phone\",\n            value: userDetails.phone,\n            onChange: handleInputChange,\n            placeholder: \"+977 987654321\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Save Changes\",\n          className: \"btn btn-info my-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n};\n\n_s(EditContact, \"Rd3EjeaunDpYyvlfCAg/7/vPWAw=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = EditContact;\nexport default EditContact;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditContact\");","map":{"version":3,"sources":["/Users/vchitturi/Desktop/Contact Managment  System/client/src/pages/EditContact.js"],"names":["React","useContext","useEffect","useState","useNavigate","useParams","Spinner","AuthContext","ToastContext","EditContact","id","navigate","user","toast","userDetails","setUserDetails","name","address","email","phone","loading","setLoading","handleInputChange","event","value","target","handleSubmit","preventDefault","res","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","result","json","error","success","err","console","log"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Spinner from \"../components/Spinner\";\nimport AuthContext from \"../context/AuthContext\";\nimport ToastContext from \"../context/ToastContext\";\n\nconst EditContact = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  const { user } = useContext(AuthContext);\n  const { toast } = useContext(ToastContext);\n\n  const [userDetails, setUserDetails] = useState({\n    name: \"\",\n    address: \"\",\n    email: \"\",\n    phone: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n\n    setUserDetails({ ...userDetails, [name]: value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const res = await fetch(`http://localhost:8000/api/contact`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n      body: JSON.stringify({ id, ...userDetails }),\n    });\n    const result = await res.json();\n    if (!result.error) {\n      toast.success(`updated [${userDetails.name}] contact`);\n\n      setUserDetails({ name: \"\", address: \"\", email: \"\", phone: \"\" });\n      navigate(\"/mycontacts\");\n    } else {\n      toast.error(result.error);\n    }\n  };\n\n  useEffect(async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`http://localhost:8000/api/contact/${id}`, {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      });\n      const result = await res.json();\n      setUserDetails({\n        name: result.name,\n        email: result.email,\n        address: result.address,\n        phone: result.phone,\n      });\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n    }\n  }, []);\n\n  return (\n    <>\n      {loading ? (\n        <Spinner splash=\"Loading Contact...\" />\n      ) : (\n        <>\n          <h2>Edit your contact</h2>\n\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"nameInput\" className=\"form-label mt-4\">\n                Name Of Person\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"nameInput\"\n                name=\"name\"\n                value={userDetails.name}\n                onChange={handleInputChange}\n                placeholder=\"John Doe\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"addressInput\" className=\"form-label mt-4\">\n                Address Of Person\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"addressInput\"\n                name=\"address\"\n                value={userDetails.address}\n                onChange={handleInputChange}\n                placeholder=\"WalkStreet 05, California\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"emailInput\" className=\"form-label mt-4\">\n                Email Of Person\n              </label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"emailInput\"\n                name=\"email\"\n                value={userDetails.email}\n                onChange={handleInputChange}\n                placeholder=\"johndoe@example.com\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"phoneInput\" className=\"form-label mt-4\">\n                Phone Number Of Person\n              </label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                id=\"phoneInput\"\n                name=\"phone\"\n                value={userDetails.phone}\n                onChange={handleInputChange}\n                placeholder=\"+977 987654321\"\n                required\n              />\n            </div>\n            <input\n              type=\"submit\"\n              value=\"Save Changes\"\n              className=\"btn btn-info my-2\"\n            />\n          </form>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default EditContact;\n"]},"metadata":{},"sourceType":"module"}